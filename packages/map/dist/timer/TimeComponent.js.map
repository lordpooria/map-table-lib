{"version":3,"sources":["../../src/timer/TimeComponent.tsx"],"names":["TimerComponent","am","getAMText","pm","getPMText","noTimeError","getDisplayNoTimeError","clockProps","dateWrapperClasses","dateClasses","amPmClasses","state","actions","timerStoreModel","currentTime","timeClasses","update","date","setDisplayDate","displayDate","displayTime","Date","isAM","e","root","clockWrapper","amPm","dateWrapper"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AASA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;AAGA,MAAMA,cAAc,GAAG,CAAC;AACtBC,EAAAA,EAAE,GAAGC,wBADiB;AAEtBC,EAAAA,EAAE,GAAGC,wBAFiB;AAGtBC,EAAAA,WAAW,GAAGC,oCAHQ;AAItBC,EAAAA,UAJsB;AAKtBC,EAAAA,kBALsB;AAMtBC,EAAAA,WANsB;AAOtBC,EAAAA;AAPsB,CAAD,KAQO;AAC5B,QAAM,CAACC,KAAD,EAAQC,OAAR,IAAmB,8BAAc,MAAMC,4BAApB,CAAzB;AACA;AACA,QAAMC,WAAW,GAAG,mCAAiBH,KAAD,IAAWA,KAAK,CAACG,WAAjC,CAApB;AACA,QAAMC,WAAW,GAAG,6BAApB;AAEA,wBAAU,MAAM;AACdC,IAAAA,MAAM,CAACF,WAAD,CAAN;AACD,GAFD,EAEG,CAACA,WAAD,CAFH;AAIA,QAAME,MAAM,GAAG,wBAAaF,WAAD,IAAiB;AAC1C,QAAIA,WAAW,IAAI,CAAnB,EAAsB;AACpB,UAAI;AACF,cAAMG,IAAI,GAAG,oBAAIH,WAAJ,CAAb;AAEAF,QAAAA,OAAO,CAACM,cAAR,CAAuB;AACrBC,UAAAA,WAAW,EAAE,8CAA0BF,IAA1B,CADQ;AAErBG,UAAAA,WAAW,EAAE,IAAIC,IAAJ,CAASP,WAAT,CAFQ;AAGrBQ,UAAAA,IAAI,EAAE,6BAASL,IAAT;AAHe,SAAvB;AAKD,OARD,CAQE,OAAOM,CAAP,EAAU,CAAE;AACf,KAVD,MAUO;AACLX,MAAAA,OAAO,CAACM,cAAR,CAAuB;AACrBC,QAAAA,WAAW,EAAEd,WADQ;AAErBe,QAAAA,WAAW,EAAE,EAFQ;AAGrBE,QAAAA,IAAI,EAAE;AAHe,OAAvB;AAKD;AACF,GAlBc,EAkBZ,EAlBY,CAAf;AAoBA,SACE;AAAK,IAAA,SAAS,EAAEP,WAAW,CAACS;AAA5B,KACE;AAAK,IAAA,SAAS,EAAET,WAAW,CAACU;AAA5B,KACE,6BAAC,uBAAD;AACE,IAAA,WAAW,EAAEd,KAAK,CAACS,WADrB;AAEE,IAAA,UAAU,EAAEb;AAFd,IADF,EAKE,6BAAC,gBAAD;AAAY,IAAA,SAAS,EAAE,mBAAKQ,WAAW,CAACW,IAAjB,EAAuBhB,WAAvB;AAAvB,KACGC,KAAK,CAACW,IAAN,GAAarB,EAAb,GAAkBE,EADrB,CALF,CADF,EAUE;AAAK,IAAA,SAAS,EAAE,mBAAKY,WAAW,CAACY,WAAjB,EAA8BnB,kBAA9B;AAAhB,KACE;AAAG,IAAA,SAAS,EAAE,mBAAKO,WAAW,CAACE,IAAjB,EAAuBR,WAAvB;AAAd,KACGE,KAAK,CAACQ,WADT,CADF,CAVF,CADF;AAkBD,CAxDD;;eA0DenB,c","sourcesContent":["import React, { useCallback, useEffect } from \"react\";\nimport { useLocalStore } from \"easy-peasy\";\nimport day from \"dayjs\";\nimport { timerStoreModel } from \"./timeReducer\";\nimport {\n  formatPersianDateComplete,\n  usePerisan,\n  findIsAM,\n  getAMText,\n  getDisplayNoTimeError,\n  getPMText,\n} from \"./dateFormatter\";\n\nimport { Typography } from \"@material-ui/core\";\nimport { useTDStoreState } from \"../store/reducerHooks\";\nimport useStyles from \"./TimeComponent.styles\";\nimport { TimeProps } from \"./TimeComponent.types\";\nimport clsx from \"clsx\";\nimport ClockComponent from \"./ClockComponent\";\n// import { TimeZone } from \"../types\";\n\nconst TimerComponent = ({\n  am = getAMText,\n  pm = getPMText,\n  noTimeError = getDisplayNoTimeError,\n  clockProps,\n  dateWrapperClasses,\n  dateClasses,\n  amPmClasses,\n}: /*timeZone*/ TimeProps) => {\n  const [state, actions] = useLocalStore(() => timerStoreModel);\n  usePerisan();\n  const currentTime = useTDStoreState((state) => state.currentTime);\n  const timeClasses = useStyles();\n\n  useEffect(() => {\n    update(currentTime);\n  }, [currentTime]);\n\n  const update = useCallback((currentTime) => {\n    if (currentTime >= 0) {\n      try {\n        const date = day(currentTime);\n\n        actions.setDisplayDate({\n          displayDate: formatPersianDateComplete(date),\n          displayTime: new Date(currentTime),\n          isAM: findIsAM(date),\n        });\n      } catch (e) {}\n    } else {\n      actions.setDisplayDate({\n        displayDate: noTimeError,\n        displayTime: \"\",\n        isAM: true,\n      });\n    }\n  }, []);\n\n  return (\n    <div className={timeClasses.root}>\n      <div className={timeClasses.clockWrapper}>\n        <ClockComponent\n          displayTime={state.displayTime}\n          clockProps={clockProps}\n        />\n        <Typography className={clsx(timeClasses.amPm, amPmClasses)}>\n          {state.isAM ? am : pm}\n        </Typography>\n      </div>\n      <div className={clsx(timeClasses.dateWrapper, dateWrapperClasses)}>\n        <p className={clsx(timeClasses.date, dateClasses)}>\n          {state.displayDate}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default TimerComponent;\n"],"file":"TimeComponent.js"}