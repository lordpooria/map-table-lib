{"version":3,"sources":["../../src/virtualize-table/VirtualizaTable.tsx"],"names":["VirtualizaTable","rows","columns","width","height","hasFilter","hasToolbar","title","operationOnRows","classes","pagination","tableDataParser","VTContainerProps","VTToolbarProps","rest","setTableRef","staticGrid","mainList","onScroll","scrollOffset","scrollUpdateWasRequested","current","scrollTo","table","toolbar","container","display","footer"],"mappings":";;;;;;;AAAA;;AAGA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;AAKA,MAAMA,eAAsC,GAAG,iBAC7C,CAAC;AACCC,EAAAA,IADD;AAECC,EAAAA,OAFD;AAGCC,EAAAA,KAAK,GAAG,MAHT;AAICC,EAAAA,MAJD;AAKCC,EAAAA,SAAS,GAAG,IALb;AAMCC,EAAAA,UAAU,GAAG,IANd;AAOCC,EAAAA,KAPD;AAQCC,EAAAA,eARD;AASCC,EAAAA,OATD;AAUCC,EAAAA,UAVD;AAWCC,EAAAA,eAXD;AAYCC,EAAAA,gBAZD;AAaCC,EAAAA,cAbD;AAeC,KAAGC;AAfJ,CAAD,KAgByB;AAAA;;AACvB,6BAAaZ,OAAb,EAAsBD,IAAtB,EAA4BU,eAA5B;AACA,QAAM;AAAEI,IAAAA;AAAF,MAAkB,uCAAxB;AACA,QAAMC,UAAU,GAAG,oBAAnB;AACA,QAAMC,QAAQ,GAAG,oBAAjB;AAEA,QAAMC,QAAQ,GAAG,wBACf,CAAC;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,GAAD,KAAmE;AACjE,QAAI,CAACA,wBAAD,IAA6BJ,UAAU,CAACK,OAA5C,EAAqD;AACnDL,MAAAA,UAAU,CAACK,OAAX,CAAmBC,QAAnB,CAA4BH,YAA5B;AACD;AACF,GALc,EAMf,EANe,CAAjB;AASA,SACE,6BAAC,8BAAD;AACE,IAAA,OAAO,EAAEV,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEc;AADpB,KAEMX,gBAFN;AAGE,IAAA,KAAK,EAAET;AAHT,MAKGG,UAAU,IACT,6BAAC,0BAAD;AACE,IAAA,KAAK,EAAEC,KADT;AAEE,IAAA,eAAe,EAAEC,eAFnB;AAGE,IAAA,OAAO,EAAEC,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEe;AAHpB,KAIMX,cAJN,EANJ,EAcE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAEJ,OAAF,aAAEA,OAAF,yCAAEA,OAAO,CAAEc,KAAX,mDAAE,eAAgBE,SAF7B;AAGE,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX;AAHT,KAKE,6BAAC,gBAAD,OALF,EA2BE,6BAAC,oBAAD;AACE,IAAA,GAAG,EAAET,QADP;AAEE,IAAA,KAAK,EAAEd,KAFT;AAGE,IAAA,QAAQ,EAAEe,QAHZ;AAIE,IAAA,OAAO,EAAET,OAJX;AAKE,IAAA,WAAW,EAAEM,WALf;AAME,IAAA,MAAM,EAAE,2BACNT,UADM,EAENO,cAFM,aAENA,cAFM,uBAENA,cAAc,CAAET,MAFV,EAGNM,UAHM,EAINN,MAJM;AANV,KAYMU,IAZN,EA3BF,EA0CE,6BAAC,gBAAD,OA1CF,CAdF,EA2DGT,SAAS,IAAI,6BAAC,2BAAD,OA3DhB,EA4DGK,UAAU,IACT,6BAAC,2BAAD,eACMA,UADN;AAEE,IAAA,OAAO,EAAED,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEkB,MAFpB;AAGE,IAAA,KAAK,EAAExB;AAHT,KA7DJ,CADF;AAsED,CAtG4C,CAA/C;eAyGeH,e","sourcesContent":["import React, { FC, memo, useCallback, useRef } from \"react\";\nimport { ListOnScrollProps, VariableSizeList } from \"react-window\";\n\nimport { useTableResizer } from \"../hooks/useTableResizer\";\nimport useTableData from \"../hooks/useTableData\";\nimport { TableToolbar } from \"../toolbar/TableToolbar\";\nimport { VirtualTableProps } from \"../types/tableTypes\";\nimport TableFilter from \"../filter/VirtualTableFilter\";\nimport VirtualTableContainer from \"./container-virtual/VirtualTableContainer\";\nimport Overlay from \"./overlay\";\nimport VirtualList from \"./container-virtual/VirtualList\";\n\nimport { TablePagination } from \"../Pagination\";\nimport { calcTableHeght } from \"../utils/theme\";\n\n/**\n * Decorator component that automatically adjusts the width and height of a single child\n */\nconst VirtualizaTable: FC<VirtualTableProps> = memo(\n  ({\n    rows,\n    columns,\n    width = \"100%\",\n    height,\n    hasFilter = true,\n    hasToolbar = true,\n    title,\n    operationOnRows,\n    classes,\n    pagination,\n    tableDataParser,\n    VTContainerProps,\n    VTToolbarProps,\n\n    ...rest\n  }: VirtualTableProps) => {\n    useTableData(columns, rows, tableDataParser);\n    const { setTableRef } = useTableResizer();\n    const staticGrid = useRef<VariableSizeList | null | undefined>();\n    const mainList = useRef<VariableSizeList | null | undefined>();\n\n    const onScroll = useCallback(\n      ({ scrollOffset, scrollUpdateWasRequested }: ListOnScrollProps) => {\n        if (!scrollUpdateWasRequested && staticGrid.current) {\n          staticGrid.current.scrollTo(scrollOffset);\n        }\n      },\n      []\n    );\n\n    return (\n      <VirtualTableContainer\n        classes={classes?.table}\n        {...VTContainerProps}\n        width={width}\n      >\n        {hasToolbar && (\n          <TableToolbar\n            title={title}\n            operationOnRows={operationOnRows}\n            classes={classes?.toolbar}\n            {...VTToolbarProps}\n          />\n        )}\n\n        <div\n          role=\"table\"\n          className={classes?.table?.container}\n          style={{ display: \"flex\" }}\n        >\n          <Overlay />\n          {/* <VirtualList\n           extraStyle={{zIndex:10,backgroundColor:\"#FFF\"}}\n            ref={staticGrid}\n            direction={direction}\n            height={height-14}\n            width={totalWidth2.current||48}\n            rows={rows}\n            columns={stickyColumns}\n            onScroll={none}\n            itemSize={itemSize}\n            selectable={selectable}\n            sortable={sortable}\n            resizable={resizable}\n            numRowsSelected={numRowsSelected}\n            totalWidth={totalWidth2.current}\n            currentWidths={currentWidths2.current}\n            classes={classes}\n            setTableRef={setTableRef2}\n            tableClasses={tableClasses}\n          /> */}\n\n          <VirtualList\n            ref={mainList}\n            width={width}\n            onScroll={onScroll}\n            classes={classes}\n            setTableRef={setTableRef}\n            height={calcTableHeght(\n              hasToolbar,\n              VTToolbarProps?.height,\n              pagination,\n              height\n            )}\n            {...rest}\n          />\n\n          <Overlay />\n        </div>\n\n        {hasFilter && <TableFilter />}\n        {pagination && (\n          <TablePagination\n            {...pagination}\n            classes={classes?.footer as any}\n            width={width as any}\n          />\n        )}\n      </VirtualTableContainer>\n    );\n  }\n);\n\nexport default VirtualizaTable;\n"],"file":"VirtualizaTable.js"}